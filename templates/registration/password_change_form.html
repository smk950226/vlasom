{% extends "base/base.html" %}
{% load static bootstrap4 %}

{% block content %}
<section class="section-1">
    <div class="container text-center mrg-top-50">
        <h1 class="theme-color">My Profile</h1>
        <form action="" method="post">
            {% csrf_token %}
            <div class="row mrg-top-60">
                <div class="col-xs-12 col-md-5 profile-wrapper no-pdd">
                    <img id="profile_image" src="{{ request.user.profile_image.url }}" width="100%" alt="">
                </div>
                <div class="col-xs-12 col-md-6 col-md-offset-1">
                    <div class="row">
                        <div class="col-xs-4">
                            <div class="input-label">
                                <h3>ID</h3>
                            </div>
                        </div>
                        <div class="col-xs-8 no-pdd-left">
                            <div class="input-box bg-gray">
                                <h3>{{ request.user.login_id }}</h3>
                            </div>
                        </div>
                    </div>
                    <div class="row mrg-top-15">
                        <div class="col-xs-4">
                            <div class="input-label">
                                <h3>PW</h3>
                            </div>
                        </div>
                        <div class="col-xs-8 no-pdd-left">
                            {% bootstrap_field form.old_password show_label=False form_group_class='' %}
                        </div>
                    </div>
                    <div class="row mrg-top-15">
                        <div class="col-xs-4">
                            <div class="input-label">
                                <h3>New PW</h3>
                            </div>
                        </div>
                        <div class="col-xs-8 no-pdd-left">
                            {% bootstrap_field form.new_password1 show_label=False form_group_class='' %}
                        </div>
                    </div>
                    <div class="row mrg-top-15">
                        <div class="col-xs-4">
                            <div class="input-label">
                                <h3>New PW Re</h3>
                            </div>
                        </div>
                        <div class="col-xs-8 no-pdd-left">
                            {% bootstrap_field form.new_password2 show_label=False form_group_class='' %}
                        </div>
                    </div>
                    <div class="row mrg-top-15">
                        <div class="col-xs-12 text-right">
                            <input type="submit" class="btn btn-md btn-round btn-theme-inverse-to-theme" value="변경사항 저장">
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</section>
{% bootstrap_form_errors form %}
{% endblock %}
{% block extrajs %}
<script>
    $('input:radio[name="gender"]').on('change', function(){
        if($('#id_gender_1').is(':checked')){
            $('#gender_1_label').html('<img src="{% static "images/male.png" %}" width="30" alt="">');
        }
        else{
            $('#gender_1_label').html('<img src="{% static "images/male-before.png" %}" width="30" alt="">');
        }
        if($('#id_gender_2').is(':checked')){
            $('#gender_2_label').html('<img src="{% static "images/female.png" %}" width="30" alt="">');
        }
        else{
            $('#gender_2_label').html('<img src="{% static "images/female-before.png" %}" width="30" alt="">');
        }
    });
</script>
{% endblock %}